jQuery(document).ready(function(e){e("#wkp-mainnav");console.log("doing nav magic"),wp.api.loadPromise.done(function(){if(void 0===wp.data)return;if(null==wp.data.select("core/editor"))return;const{subscribe:o}=wp.data;let t=wp.data.select("core/editor").getCurrentPostAttribute("categories"),n=wp.data.select("core/editor").getCurrentPostAttribute("title");console.log("Categories"),console.log(t),console.log("Title"),console.log(n);o(()=>{const e=wp.data.select("core/editor").getCurrentPostAttribute("title");e!=n&&(console.log("new post title"),console.log(e),void 0!==n&&a(),n=e)}),o(()=>{const e=wp.data.select("core/editor").getCurrentPostAttribute("categories");e!=t&&(console.log("new post categories"),console.log(e),void 0!==t&&a(),t=e)});function a(){console.log("menu update");e.ajax({url:ajax_information.ajaxurl,data:{action:"update_menu_handle"},dataType:"json"}).success(function(o,t,n){o&&"success"===o.state?e("#wkp-mainnav").replaceWith(o.nav):o&&"error"===o.state&&console.log(o.error)}).fail(function(e,o,t){console.log("error"),console.log(t)})}})});